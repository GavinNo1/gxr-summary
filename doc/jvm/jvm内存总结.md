# jvm内存总结
1，![jvm内存图](_v_images/_jvm内存图_1519783577_828131576.png)

2，程序计数器为 *线程私有* 的内存  如果执行的是native方法 这个计数器为空
作用：                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    线程切换时记录java方法的虚拟机字节码的地址。
注意： 唯一一个没有任何内存溢出错误的区域
3. java虚拟机栈 *线程私有*  。（程序计数器与java虚拟机栈属于线程私有 线程占用内存为本地内存）
4. java堆存放所有 *对象* 实例 线程共享。（称为堆内存）
5. 方法区 存放类相关信息 常量 静态变量  编译后的代码等 （运行时常量池是方法区的一部分） Full GC会进行方法区的回收。 （称为方法区）
6. jdk1.8移除方法区 增加metaspace（使用本地内存来存储类元数据信息， 新参数（MaxMetaspaceSize）用于限制本地内存分配给类元数据的大小。如果没有指定这个参数，元空间会在运行时根据需要动态调整）， 杂项数据已经移到Java堆空间中 。**无法理解的一点是** 如果设置了 MaxMetaspaceSize参数 和没有移除方法区的区别。
7. 直接内存（感觉属于本地内存） ： JDK1.4 加入了新的 NIO 机制，目的是防止 Java 堆 和 Native 堆之间往复的数据复制带来的性能损耗，此后 NIO 可以使用 Native 的方式直接在 Native 堆分配内存。通过存储在java堆中的DirectByteBuffer对象作为这块内存的引用进行操作。
8. 参数：
![参数诠释内存图](_v_images/_参数诠释内存图_1519787610_565881625.png)



